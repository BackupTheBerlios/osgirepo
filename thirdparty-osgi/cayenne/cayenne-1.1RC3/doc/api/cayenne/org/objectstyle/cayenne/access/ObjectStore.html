<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN""http://www.w3.org/TR/REC-html40/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc on Sat Nov 20 14:48:25 EST 2004 -->
<TITLE>
ObjectStore (Cayenne API)
</TITLE>
<META NAME="keywords" CONTENT="org.objectstyle.cayenne.access.ObjectStore,ObjectStore class">
<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../objectstyle-javadoc.css" TITLE="Style">
</HEAD>
<SCRIPT>
function asd()
{
parent.document.title="ObjectStore (Cayenne API)";
}
</SCRIPT>
<BODY BGCOLOR="white" onload="asd();">

<!-- ========== START OF NAVBAR ========== -->
<A NAME="navbar_top"><!-- --></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">
<TR>
<TD COLSPAN=3 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/ObjectStore.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../org/objectstyle/cayenne/access/IncrementalFaultList.html"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../org/objectstyle/cayenne/access/QueryLogger.html"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html" TARGET="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="ObjectStore.html" TARGET="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;
<SCRIPT>
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html" TARGET=""><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
<A HREF="../../../../allclasses-noframe.html" TARGET=""><B>All Classes</B></A>
</NOSCRIPT>
</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<!-- =========== END OF NAVBAR =========== -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
org.objectstyle.cayenne.access</FONT>
<BR>
Class ObjectStore</H2>
<PRE>
java.lang.Object
  |
  +--<B>org.objectstyle.cayenne.access.ObjectStore</B>
</PRE>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD>java.util.EventListener, java.io.Serializable, <A HREF="../../../../org/objectstyle/cayenne/access/event/SnapshotEventListener.html">SnapshotEventListener</A></DD>
</DL>
<HR>
<DL>
<DT>public class <B>ObjectStore</B><DT>extends java.lang.Object<DT>implements java.io.Serializable, <A HREF="../../../../org/objectstyle/cayenne/access/event/SnapshotEventListener.html">SnapshotEventListener</A></DL>

<P>
ObjectStore maintains a cache of objects and their snapshots.
 <p>
 <strong>Synchronization Note: </strong> Since there is often a need to synchronize on
 both, ObjectStore and underlying DataRowCache, there must be a consistent
 synchronization policy to avoid deadlocks. Whenever ObjectStore needs to obtain a lock
 on DataRowStore, it must obtain a lock on self.
 </p>
<P>

<P>
<DL>
<DT><B>Author:</B></DT>
  <DD>Andrei Adamchik</DD>
<DT><B>See Also:</B><DD><A HREF="../../../../serialized-form.html" TARGET="org.objectstyle.cayenne.access.ObjectStore">Serialized Form</A></DL>
<HR>

<P>
<!-- ======== NESTED CLASS SUMMARY ======== -->


<!-- =========== FIELD SUMMARY =========== -->

<A NAME="field_summary"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Field Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;<A HREF="../../../../org/objectstyle/cayenne/access/DataRowStore.html">DataRowStore</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/objectstyle/cayenne/access/ObjectStore.html#dataRowCache">dataRowCache</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Stores a reference to the DataRowStore.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.util.List</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/objectstyle/cayenne/access/ObjectStore.html#flattenedDeletes">flattenedDeletes</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.util.List</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/objectstyle/cayenne/access/ObjectStore.html#flattenedInserts">flattenedInserts</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.util.List</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/objectstyle/cayenne/access/ObjectStore.html#indirectlyModifiedIds">indirectlyModifiedIds</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.util.Map</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/objectstyle/cayenne/access/ObjectStore.html#newObjectMap">newObjectMap</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.util.Map</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/objectstyle/cayenne/access/ObjectStore.html#objectMap">objectMap</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.util.Map</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/objectstyle/cayenne/access/ObjectStore.html#queryResultMap">queryResultMap</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;java.util.Map</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/objectstyle/cayenne/access/ObjectStore.html#retainedSnapshotMap">retainedSnapshotMap</A></B></CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Ensures access to the versions of DataObject snapshots (in the form of DataRows)
 taken when an object was first modified.</TD>
</TR>
</TABLE>
&nbsp;
<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../org/objectstyle/cayenne/access/ObjectStore.html#ObjectStore()">ObjectStore</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../org/objectstyle/cayenne/access/ObjectStore.html#ObjectStore(org.objectstyle.cayenne.access.DataRowStore)">ObjectStore</A></B>(<A HREF="../../../../org/objectstyle/cayenne/access/DataRowStore.html">DataRowStore</A>&nbsp;dataRowCache)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=2><FONT SIZE="+2">
<B>Method Summary</B></FONT></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/objectstyle/cayenne/access/ObjectStore.html#addObject(org.objectstyle.cayenne.DataObject)">addObject</A></B>(<A HREF="../../../../org/objectstyle/cayenne/DataObject.html">DataObject</A>&nbsp;obj)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/objectstyle/cayenne/access/ObjectStore.html#addSnapshot(org.objectstyle.cayenne.ObjectId, java.util.Map)">addSnapshot</A></B>(<A HREF="../../../../org/objectstyle/cayenne/ObjectId.html">ObjectId</A>&nbsp;id,
            java.util.Map&nbsp;snapshot)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B>Deprecated.</B>&nbsp;<I>Since 1.1 all methods for snapshot manipulation via ObjectStore are
             deprecated due to architecture changes.</I></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/objectstyle/cayenne/access/ObjectStore.html#cacheQueryResult(java.lang.String, java.util.List)">cacheQueryResult</A></B>(java.lang.String&nbsp;name,
                 java.util.List&nbsp;results)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Caches a list of query results.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../org/objectstyle/cayenne/DataObject.html">DataObject</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/objectstyle/cayenne/access/ObjectStore.html#changeObjectKey(org.objectstyle.cayenne.ObjectId, org.objectstyle.cayenne.ObjectId)">changeObjectKey</A></B>(<A HREF="../../../../org/objectstyle/cayenne/ObjectId.html">ObjectId</A>&nbsp;oldId,
                <A HREF="../../../../org/objectstyle/cayenne/ObjectId.html">ObjectId</A>&nbsp;newId)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B>Deprecated.</B>&nbsp;<I>Since 1.1 all methods for snapshot manipulation via ObjectStore are
             deprecated due to architecture changes.</I></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.List</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/objectstyle/cayenne/access/ObjectStore.html#getCachedQueryResult(java.lang.String)">getCachedQueryResult</A></B>(java.lang.String&nbsp;name)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns cached query results for a given query, or null if no results are cached.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../org/objectstyle/cayenne/DataRow.html">DataRow</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/objectstyle/cayenne/access/ObjectStore.html#getCachedSnapshot(org.objectstyle.cayenne.ObjectId)">getCachedSnapshot</A></B>(<A HREF="../../../../org/objectstyle/cayenne/ObjectId.html">ObjectId</A>&nbsp;oid)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns a snapshot for ObjectId from the underlying snapshot cache.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../org/objectstyle/cayenne/access/DataRowStore.html">DataRowStore</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/objectstyle/cayenne/access/ObjectStore.html#getDataRowCache()">getDataRowCache</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns a DataRowStore associated with this ObjectStore.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../org/objectstyle/cayenne/DataObject.html">DataObject</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/objectstyle/cayenne/access/ObjectStore.html#getObject(org.objectstyle.cayenne.ObjectId)">getObject</A></B>(<A HREF="../../../../org/objectstyle/cayenne/ObjectId.html">ObjectId</A>&nbsp;id)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns a DataObject registered for a given ObjectId, or null if no such object
 exists.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Iterator</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/objectstyle/cayenne/access/ObjectStore.html#getObjectIterator()">getObjectIterator</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns an iterator over the registered objects.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.List</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/objectstyle/cayenne/access/ObjectStore.html#getObjects()">getObjects</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns a list of objects that are registered with this DataContext, regardless of
 their persistence state.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../org/objectstyle/cayenne/DataRow.html">DataRow</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/objectstyle/cayenne/access/ObjectStore.html#getRetainedSnapshot(org.objectstyle.cayenne.ObjectId)">getRetainedSnapshot</A></B>(<A HREF="../../../../org/objectstyle/cayenne/ObjectId.html">ObjectId</A>&nbsp;oid)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Map</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/objectstyle/cayenne/access/ObjectStore.html#getSnapshot(org.objectstyle.cayenne.ObjectId)">getSnapshot</A></B>(<A HREF="../../../../org/objectstyle/cayenne/ObjectId.html">ObjectId</A>&nbsp;id)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B>Deprecated.</B>&nbsp;<I>Since 1.1 getCachedSnapshot(ObjectId) or
             getSnapshot(ObjectId,QueryEngine) must be used.</I></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../../../org/objectstyle/cayenne/DataRow.html">DataRow</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/objectstyle/cayenne/access/ObjectStore.html#getSnapshot(org.objectstyle.cayenne.ObjectId, org.objectstyle.cayenne.access.QueryEngine)">getSnapshot</A></B>(<A HREF="../../../../org/objectstyle/cayenne/ObjectId.html">ObjectId</A>&nbsp;oid,
            <A HREF="../../../../org/objectstyle/cayenne/access/QueryEngine.html">QueryEngine</A>&nbsp;engine)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns a snapshot for ObjectId from the underlying snapshot cache.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;boolean</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/objectstyle/cayenne/access/ObjectStore.html#hasChanges()">hasChanges</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Returns <code>true</code> if there are any modified, deleted or new objects
 registered with this ObjectStore, <code>false</code> otherwise.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/objectstyle/cayenne/access/ObjectStore.html#objectRelationshipSet(org.objectstyle.cayenne.DataObject, org.objectstyle.cayenne.DataObject, org.objectstyle.cayenne.map.ObjRelationship, boolean)">objectRelationshipSet</A></B>(<A HREF="../../../../org/objectstyle/cayenne/DataObject.html">DataObject</A>&nbsp;source,
                      <A HREF="../../../../org/objectstyle/cayenne/DataObject.html">DataObject</A>&nbsp;target,
                      <A HREF="../../../../org/objectstyle/cayenne/map/ObjRelationship.html">ObjRelationship</A>&nbsp;relationship,
                      boolean&nbsp;processFlattened)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Performs tracking of object relationship changes.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/objectstyle/cayenne/access/ObjectStore.html#objectRelationshipUnset(org.objectstyle.cayenne.DataObject, org.objectstyle.cayenne.DataObject, org.objectstyle.cayenne.map.ObjRelationship, boolean)">objectRelationshipUnset</A></B>(<A HREF="../../../../org/objectstyle/cayenne/DataObject.html">DataObject</A>&nbsp;source,
                        <A HREF="../../../../org/objectstyle/cayenne/DataObject.html">DataObject</A>&nbsp;target,
                        <A HREF="../../../../org/objectstyle/cayenne/map/ObjRelationship.html">ObjRelationship</A>&nbsp;relationship,
                        boolean&nbsp;processFlattened)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Performs tracking of object relationship changes.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/objectstyle/cayenne/access/ObjectStore.html#objectsCommitted()">objectsCommitted</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Processes internal objects after the parent DataContext was committed.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.List</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/objectstyle/cayenne/access/ObjectStore.html#objectsInState(int)">objectsInState</A></B>(int&nbsp;state)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Return a subset of registered objects that are in a certian persistence state.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/objectstyle/cayenne/access/ObjectStore.html#objectsInvalidated(java.util.Collection)">objectsInvalidated</A></B>(java.util.Collection&nbsp;objects)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Invalidates a collection of DataObjects.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/objectstyle/cayenne/access/ObjectStore.html#objectsRolledBack()">objectsRolledBack</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Reverts changes to all stored uncomitted objects.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/objectstyle/cayenne/access/ObjectStore.html#objectsUnregistered(java.util.Collection)">objectsUnregistered</A></B>(java.util.Collection&nbsp;objects)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Evicts a collection of DataObjects from the ObjectStore.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/objectstyle/cayenne/access/ObjectStore.html#removeObject(org.objectstyle.cayenne.ObjectId)">removeObject</A></B>(<A HREF="../../../../org/objectstyle/cayenne/ObjectId.html">ObjectId</A>&nbsp;id)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B>Deprecated.</B>&nbsp;<I>Since 1.1 all methods for snapshot manipulation via ObjectStore are
             deprecated due to architecture changes.</I></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/objectstyle/cayenne/access/ObjectStore.html#removeSnapshot(org.objectstyle.cayenne.ObjectId)">removeSnapshot</A></B>(<A HREF="../../../../org/objectstyle/cayenne/ObjectId.html">ObjectId</A>&nbsp;id)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<B>Deprecated.</B>&nbsp;<I>Since 1.1 all methods for snapshot manipulation via ObjectStore are
             deprecated due to architecture changes.</I></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/objectstyle/cayenne/access/ObjectStore.html#resolveHollow(org.objectstyle.cayenne.DataObject)">resolveHollow</A></B>(<A HREF="../../../../org/objectstyle/cayenne/DataObject.html">DataObject</A>&nbsp;object)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Initializes object with data from cache or from the database, if this object is not
 fully resolved.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/objectstyle/cayenne/access/ObjectStore.html#retainSnapshot(org.objectstyle.cayenne.DataObject)">retainSnapshot</A></B>(<A HREF="../../../../org/objectstyle/cayenne/DataObject.html">DataObject</A>&nbsp;object)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Saves a committed snapshot for an object in a non-expiring cache.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>protected &nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/objectstyle/cayenne/access/ObjectStore.html#retainSnapshot(org.objectstyle.cayenne.DataObject, org.objectstyle.cayenne.DataRow)">retainSnapshot</A></B>(<A HREF="../../../../org/objectstyle/cayenne/DataObject.html">DataObject</A>&nbsp;object,
               <A HREF="../../../../org/objectstyle/cayenne/DataRow.html">DataRow</A>&nbsp;snapshot)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Stores provided DataRow as a snapshot to be used to build UPDATE queries for an
 object.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/objectstyle/cayenne/access/ObjectStore.html#setDataRowCache(org.objectstyle.cayenne.access.DataRowStore)">setDataRowCache</A></B>(<A HREF="../../../../org/objectstyle/cayenne/access/DataRowStore.html">DataRowStore</A>&nbsp;dataRowCache)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Sets parent SnapshotCache.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/objectstyle/cayenne/access/ObjectStore.html#snapshotsChanged(org.objectstyle.cayenne.access.event.SnapshotEvent)">snapshotsChanged</A></B>(<A HREF="../../../../org/objectstyle/cayenne/access/event/SnapshotEvent.html">SnapshotEvent</A>&nbsp;event)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;SnapshotEventListener implementation that processes snapshot change event, updating
 DataObjects that have the changes.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/objectstyle/cayenne/access/ObjectStore.html#snapshotsUpdatedForObjects(java.util.List, java.util.List, boolean)">snapshotsUpdatedForObjects</A></B>(java.util.List&nbsp;objects,
                           java.util.List&nbsp;snapshots,
                           boolean&nbsp;refresh)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Updates underlying DataRowStore.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/objectstyle/cayenne/access/ObjectStore.html#startTrackingNewObjects()">startTrackingNewObjects</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Starts tracking the registration of new objects from this ObjectStore.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/objectstyle/cayenne/access/ObjectStore.html#unregisterNewObjects()">unregisterNewObjects</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Unregisters the newly registered DataObjects from this objectStore.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../org/objectstyle/cayenne/access/ObjectStore.html#validateUncommittedObjects()">validateUncommittedObjects</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Performs validation of all uncommitted objects in the ObjectStore.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TD><B>Methods inherited from class java.lang.Object</B></TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ============ FIELD DETAIL =========== -->

<A NAME="field_detail"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Field Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="newObjectMap"><!-- --></A><H3>
newObjectMap</H3>
<PRE>
protected transient java.util.Map <B>newObjectMap</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="objectMap"><!-- --></A><H3>
objectMap</H3>
<PRE>
protected java.util.Map <B>objectMap</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="queryResultMap"><!-- --></A><H3>
queryResultMap</H3>
<PRE>
protected java.util.Map <B>queryResultMap</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="indirectlyModifiedIds"><!-- --></A><H3>
indirectlyModifiedIds</H3>
<PRE>
protected java.util.List <B>indirectlyModifiedIds</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="flattenedInserts"><!-- --></A><H3>
flattenedInserts</H3>
<PRE>
protected java.util.List <B>flattenedInserts</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="flattenedDeletes"><!-- --></A><H3>
flattenedDeletes</H3>
<PRE>
protected java.util.List <B>flattenedDeletes</B></PRE>
<DL>
<DL>
</DL>
</DL>
<HR>

<A NAME="retainedSnapshotMap"><!-- --></A><H3>
retainedSnapshotMap</H3>
<PRE>
protected java.util.Map <B>retainedSnapshotMap</B></PRE>
<DL>
<DD>Ensures access to the versions of DataObject snapshots (in the form of DataRows)
 taken when an object was first modified.
<P>
<DL>
</DL>
</DL>
<HR>

<A NAME="dataRowCache"><!-- --></A><H3>
dataRowCache</H3>
<PRE>
protected transient <A HREF="../../../../org/objectstyle/cayenne/access/DataRowStore.html">DataRowStore</A> <B>dataRowCache</B></PRE>
<DL>
<DD>Stores a reference to the DataRowStore.
 <p>
 <i>Serialization note: </i> It is up to the owner of this ObjectStore to initialize
 DataRowStore after deserialization of this object. ObjectStore will not know how to
 restore the DataRowStore by itself.
 </p>
<P>
<DL>
</DL>
</DL>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="ObjectStore()"><!-- --></A><H3>
ObjectStore</H3>
<PRE>
public <B>ObjectStore</B>()</PRE>
<DL>
</DL>
<HR>

<A NAME="ObjectStore(org.objectstyle.cayenne.access.DataRowStore)"><!-- --></A><H3>
ObjectStore</H3>
<PRE>
public <B>ObjectStore</B>(<A HREF="../../../../org/objectstyle/cayenne/access/DataRowStore.html">DataRowStore</A>&nbsp;dataRowCache)</PRE>
<DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" CELLPADDING="3" CELLSPACING="0" WIDTH="100%">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TD COLSPAN=1><FONT SIZE="+2">
<B>Method Detail</B></FONT></TD>
</TR>
</TABLE>

<A NAME="retainSnapshot(org.objectstyle.cayenne.DataObject)"><!-- --></A><H3>
retainSnapshot</H3>
<PRE>
public void <B>retainSnapshot</B>(<A HREF="../../../../org/objectstyle/cayenne/DataObject.html">DataObject</A>&nbsp;object)</PRE>
<DL>
<DD>Saves a committed snapshot for an object in a non-expiring cache. This ensures that
 Cayenne can track object changes even if the underlying cache entry has expired or
 replaced with a newer version. Retained snapshots are evicted when an object is
 committed or rolled back.
 <p>
 When committing modified objects, comparing them with retained snapshots instead of
 the currently cached snapshots would allow to resolve certain conflicts during
 concurrent modification of <strong>different attributes </strong> of the same
 objects by different DataContexts.
 </p>
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Since:</B></DT>
  <DD>1.1</DD>
</DL>
</DD>
</DL>
<HR>

<A NAME="retainSnapshot(org.objectstyle.cayenne.DataObject, org.objectstyle.cayenne.DataRow)"><!-- --></A><H3>
retainSnapshot</H3>
<PRE>
protected void <B>retainSnapshot</B>(<A HREF="../../../../org/objectstyle/cayenne/DataObject.html">DataObject</A>&nbsp;object,
                              <A HREF="../../../../org/objectstyle/cayenne/DataRow.html">DataRow</A>&nbsp;snapshot)</PRE>
<DL>
<DD>Stores provided DataRow as a snapshot to be used to build UPDATE queries for an
 object. Updates object's snapshot version with the version of the new retained
 snapshot.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Since:</B></DT>
  <DD>1.1</DD>
</DL>
</DD>
</DL>
<HR>

<A NAME="getDataRowCache()"><!-- --></A><H3>
getDataRowCache</H3>
<PRE>
public <A HREF="../../../../org/objectstyle/cayenne/access/DataRowStore.html">DataRowStore</A> <B>getDataRowCache</B>()</PRE>
<DL>
<DD>Returns a DataRowStore associated with this ObjectStore.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="setDataRowCache(org.objectstyle.cayenne.access.DataRowStore)"><!-- --></A><H3>
setDataRowCache</H3>
<PRE>
public void <B>setDataRowCache</B>(<A HREF="../../../../org/objectstyle/cayenne/access/DataRowStore.html">DataRowStore</A>&nbsp;dataRowCache)</PRE>
<DL>
<DD>Sets parent SnapshotCache. Registers to receive SnapshotEvents if the cache is
 configured to allow ObjectStores to receive such events.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="objectsInvalidated(java.util.Collection)"><!-- --></A><H3>
objectsInvalidated</H3>
<PRE>
public void <B>objectsInvalidated</B>(java.util.Collection&nbsp;objects)</PRE>
<DL>
<DD>Invalidates a collection of DataObjects. Changes objects state to HOLLOW.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="objectsUnregistered(java.util.Collection)"><!-- --></A><H3>
objectsUnregistered</H3>
<PRE>
public void <B>objectsUnregistered</B>(java.util.Collection&nbsp;objects)</PRE>
<DL>
<DD>Evicts a collection of DataObjects from the ObjectStore. Object snapshots are
 removed as well. Changes objects state to TRANSIENT. This method can be used for
 manual cleanup of Cayenne cache.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="objectsRolledBack()"><!-- --></A><H3>
objectsRolledBack</H3>
<PRE>
public void <B>objectsRolledBack</B>()</PRE>
<DL>
<DD>Reverts changes to all stored uncomitted objects.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Since:</B></DT>
  <DD>1.1</DD>
</DL>
</DD>
</DL>
<HR>

<A NAME="objectRelationshipUnset(org.objectstyle.cayenne.DataObject, org.objectstyle.cayenne.DataObject, org.objectstyle.cayenne.map.ObjRelationship, boolean)"><!-- --></A><H3>
objectRelationshipUnset</H3>
<PRE>
public void <B>objectRelationshipUnset</B>(<A HREF="../../../../org/objectstyle/cayenne/DataObject.html">DataObject</A>&nbsp;source,
                                    <A HREF="../../../../org/objectstyle/cayenne/DataObject.html">DataObject</A>&nbsp;target,
                                    <A HREF="../../../../org/objectstyle/cayenne/map/ObjRelationship.html">ObjRelationship</A>&nbsp;relationship,
                                    boolean&nbsp;processFlattened)</PRE>
<DL>
<DD>Performs tracking of object relationship changes.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Since:</B></DT>
  <DD>1.1</DD>
</DL>
</DD>
</DL>
<HR>

<A NAME="objectRelationshipSet(org.objectstyle.cayenne.DataObject, org.objectstyle.cayenne.DataObject, org.objectstyle.cayenne.map.ObjRelationship, boolean)"><!-- --></A><H3>
objectRelationshipSet</H3>
<PRE>
public void <B>objectRelationshipSet</B>(<A HREF="../../../../org/objectstyle/cayenne/DataObject.html">DataObject</A>&nbsp;source,
                                  <A HREF="../../../../org/objectstyle/cayenne/DataObject.html">DataObject</A>&nbsp;target,
                                  <A HREF="../../../../org/objectstyle/cayenne/map/ObjRelationship.html">ObjRelationship</A>&nbsp;relationship,
                                  boolean&nbsp;processFlattened)</PRE>
<DL>
<DD>Performs tracking of object relationship changes.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Since:</B></DT>
  <DD>1.1</DD>
</DL>
</DD>
</DL>
<HR>

<A NAME="snapshotsUpdatedForObjects(java.util.List, java.util.List, boolean)"><!-- --></A><H3>
snapshotsUpdatedForObjects</H3>
<PRE>
public void <B>snapshotsUpdatedForObjects</B>(java.util.List&nbsp;objects,
                                       java.util.List&nbsp;snapshots,
                                       boolean&nbsp;refresh)</PRE>
<DL>
<DD>Updates underlying DataRowStore. If <code>refresh</code> is true, all snapshots
 in <code>snapshots</code> will be loaded into DataRowStore, regardless of the
 existing cache state. If <code>refresh</code> is false, only missing snapshots
 are loaded. This method is normally called by Cayenne internally to synchronized
 snapshots of recently fetched objects.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Parameters:</B><DD><CODE>objects</CODE> - a list of object whose snapshots need to be updated in the
            SnapshotCache<DD><CODE>snapshots</CODE> - a list of snapshots. Must be the same size and use the same order
            as <code>objects</code> list.<DD><CODE>refresh</CODE> - controls whether existing cached snapshots should be replaced with
            the new ones.<DT><B>Since:</B></DT>
  <DD>1.1</DD>
</DL>
</DD>
</DL>
<HR>

<A NAME="objectsCommitted()"><!-- --></A><H3>
objectsCommitted</H3>
<PRE>
public void <B>objectsCommitted</B>()</PRE>
<DL>
<DD>Processes internal objects after the parent DataContext was committed. Changes
 object persistence state and handles snapshot updates.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Since:</B></DT>
  <DD>1.1</DD>
</DL>
</DD>
</DL>
<HR>

<A NAME="changeObjectKey(org.objectstyle.cayenne.ObjectId, org.objectstyle.cayenne.ObjectId)"><!-- --></A><H3>
changeObjectKey</H3>
<PRE>
public <A HREF="../../../../org/objectstyle/cayenne/DataObject.html">DataObject</A> <B>changeObjectKey</B>(<A HREF="../../../../org/objectstyle/cayenne/ObjectId.html">ObjectId</A>&nbsp;oldId,
                                  <A HREF="../../../../org/objectstyle/cayenne/ObjectId.html">ObjectId</A>&nbsp;newId)</PRE>
<DL>
<DD><B>Deprecated.</B>&nbsp;<I>Since 1.1 all methods for snapshot manipulation via ObjectStore are
             deprecated due to architecture changes.</I>
<P>
<DD>Reregisters an object using a new id as a key. Returns the object if it is found,
 or null if it is not registered in the object store.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="addObject(org.objectstyle.cayenne.DataObject)"><!-- --></A><H3>
addObject</H3>
<PRE>
public void <B>addObject</B>(<A HREF="../../../../org/objectstyle/cayenne/DataObject.html">DataObject</A>&nbsp;obj)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="startTrackingNewObjects()"><!-- --></A><H3>
startTrackingNewObjects</H3>
<PRE>
public void <B>startTrackingNewObjects</B>()</PRE>
<DL>
<DD>Starts tracking the registration of new objects from this ObjectStore. Used in
 conjunction with unregisterNewObjects() to control garbage collection when an
 instance of ObjectStore is used over a longer time for batch processing. (TODO:
 this won't work with changeObjectKey()?)
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>See Also:</B><DD><A HREF="../../../../org/objectstyle/cayenne/access/ObjectStore.html#unregisterNewObjects()"><CODE>unregisterNewObjects()</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="unregisterNewObjects()"><!-- --></A><H3>
unregisterNewObjects</H3>
<PRE>
public void <B>unregisterNewObjects</B>()</PRE>
<DL>
<DD>Unregisters the newly registered DataObjects from this objectStore. Used in
 conjunction with startTrackingNewObjects() to control garbage collection when an
 instance of ObjectStore is used over a longer time for batch processing. (TODO:
 this won't work with changeObjectKey()?)
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>See Also:</B><DD><A HREF="../../../../org/objectstyle/cayenne/access/ObjectStore.html#startTrackingNewObjects()"><CODE>startTrackingNewObjects()</CODE></A></DL>
</DD>
</DL>
<HR>

<A NAME="getObject(org.objectstyle.cayenne.ObjectId)"><!-- --></A><H3>
getObject</H3>
<PRE>
public <A HREF="../../../../org/objectstyle/cayenne/DataObject.html">DataObject</A> <B>getObject</B>(<A HREF="../../../../org/objectstyle/cayenne/ObjectId.html">ObjectId</A>&nbsp;id)</PRE>
<DL>
<DD>Returns a DataObject registered for a given ObjectId, or null if no such object
 exists. This method does not do a database fetch.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="addSnapshot(org.objectstyle.cayenne.ObjectId, java.util.Map)"><!-- --></A><H3>
addSnapshot</H3>
<PRE>
public void <B>addSnapshot</B>(<A HREF="../../../../org/objectstyle/cayenne/ObjectId.html">ObjectId</A>&nbsp;id,
                        java.util.Map&nbsp;snapshot)</PRE>
<DL>
<DD><B>Deprecated.</B>&nbsp;<I>Since 1.1 all methods for snapshot manipulation via ObjectStore are
             deprecated due to architecture changes.</I>
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getSnapshot(org.objectstyle.cayenne.ObjectId)"><!-- --></A><H3>
getSnapshot</H3>
<PRE>
public java.util.Map <B>getSnapshot</B>(<A HREF="../../../../org/objectstyle/cayenne/ObjectId.html">ObjectId</A>&nbsp;id)</PRE>
<DL>
<DD><B>Deprecated.</B>&nbsp;<I>Since 1.1 getCachedSnapshot(ObjectId) or
             getSnapshot(ObjectId,QueryEngine) must be used.</I>
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getRetainedSnapshot(org.objectstyle.cayenne.ObjectId)"><!-- --></A><H3>
getRetainedSnapshot</H3>
<PRE>
public <A HREF="../../../../org/objectstyle/cayenne/DataRow.html">DataRow</A> <B>getRetainedSnapshot</B>(<A HREF="../../../../org/objectstyle/cayenne/ObjectId.html">ObjectId</A>&nbsp;oid)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getCachedSnapshot(org.objectstyle.cayenne.ObjectId)"><!-- --></A><H3>
getCachedSnapshot</H3>
<PRE>
public <A HREF="../../../../org/objectstyle/cayenne/DataRow.html">DataRow</A> <B>getCachedSnapshot</B>(<A HREF="../../../../org/objectstyle/cayenne/ObjectId.html">ObjectId</A>&nbsp;oid)</PRE>
<DL>
<DD>Returns a snapshot for ObjectId from the underlying snapshot cache. If cache
 contains no snapshot, a null is returned.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Since:</B></DT>
  <DD>1.1</DD>
</DL>
</DD>
</DL>
<HR>

<A NAME="getCachedQueryResult(java.lang.String)"><!-- --></A><H3>
getCachedQueryResult</H3>
<PRE>
public java.util.List <B>getCachedQueryResult</B>(java.lang.String&nbsp;name)</PRE>
<DL>
<DD>Returns cached query results for a given query, or null if no results are cached.
 Note that ObjectStore will only lookup results in its local cache, and not the
 shared cache associated with the underlying DataRowStore.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Since:</B></DT>
  <DD>1.1</DD>
</DL>
</DD>
</DL>
<HR>

<A NAME="cacheQueryResult(java.lang.String, java.util.List)"><!-- --></A><H3>
cacheQueryResult</H3>
<PRE>
public void <B>cacheQueryResult</B>(java.lang.String&nbsp;name,
                             java.util.List&nbsp;results)</PRE>
<DL>
<DD>Caches a list of query results.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Since:</B></DT>
  <DD>1.1</DD>
</DL>
</DD>
</DL>
<HR>

<A NAME="getSnapshot(org.objectstyle.cayenne.ObjectId, org.objectstyle.cayenne.access.QueryEngine)"><!-- --></A><H3>
getSnapshot</H3>
<PRE>
public <A HREF="../../../../org/objectstyle/cayenne/DataRow.html">DataRow</A> <B>getSnapshot</B>(<A HREF="../../../../org/objectstyle/cayenne/ObjectId.html">ObjectId</A>&nbsp;oid,
                           <A HREF="../../../../org/objectstyle/cayenne/access/QueryEngine.html">QueryEngine</A>&nbsp;engine)</PRE>
<DL>
<DD>Returns a snapshot for ObjectId from the underlying snapshot cache. If cache
 contains no snapshot, it will attempt fetching it using provided QueryEngine. If
 fetch attempt fails or inconsistent data is returned, underlying cache will throw a
 CayenneRuntimeException.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Since:</B></DT>
  <DD>1.1</DD>
</DL>
</DD>
</DL>
<HR>

<A NAME="removeObject(org.objectstyle.cayenne.ObjectId)"><!-- --></A><H3>
removeObject</H3>
<PRE>
public void <B>removeObject</B>(<A HREF="../../../../org/objectstyle/cayenne/ObjectId.html">ObjectId</A>&nbsp;id)</PRE>
<DL>
<DD><B>Deprecated.</B>&nbsp;<I>Since 1.1 all methods for snapshot manipulation via ObjectStore are
             deprecated due to architecture changes.</I>
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="removeSnapshot(org.objectstyle.cayenne.ObjectId)"><!-- --></A><H3>
removeSnapshot</H3>
<PRE>
public void <B>removeSnapshot</B>(<A HREF="../../../../org/objectstyle/cayenne/ObjectId.html">ObjectId</A>&nbsp;id)</PRE>
<DL>
<DD><B>Deprecated.</B>&nbsp;<I>Since 1.1 all methods for snapshot manipulation via ObjectStore are
             deprecated due to architecture changes.</I>
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getObjects()"><!-- --></A><H3>
getObjects</H3>
<PRE>
public java.util.List <B>getObjects</B>()</PRE>
<DL>
<DD>Returns a list of objects that are registered with this DataContext, regardless of
 their persistence state. List is returned by copy and can be modified by the
 caller.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getObjectIterator()"><!-- --></A><H3>
getObjectIterator</H3>
<PRE>
public java.util.Iterator <B>getObjectIterator</B>()</PRE>
<DL>
<DD>Returns an iterator over the registered objects.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="hasChanges()"><!-- --></A><H3>
hasChanges</H3>
<PRE>
public boolean <B>hasChanges</B>()</PRE>
<DL>
<DD>Returns <code>true</code> if there are any modified, deleted or new objects
 registered with this ObjectStore, <code>false</code> otherwise.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="objectsInState(int)"><!-- --></A><H3>
objectsInState</H3>
<PRE>
public java.util.List <B>objectsInState</B>(int&nbsp;state)</PRE>
<DL>
<DD>Return a subset of registered objects that are in a certian persistence state.
 Collection is returned by copy.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="snapshotsChanged(org.objectstyle.cayenne.access.event.SnapshotEvent)"><!-- --></A><H3>
snapshotsChanged</H3>
<PRE>
public void <B>snapshotsChanged</B>(<A HREF="../../../../org/objectstyle/cayenne/access/event/SnapshotEvent.html">SnapshotEvent</A>&nbsp;event)</PRE>
<DL>
<DD>SnapshotEventListener implementation that processes snapshot change event, updating
 DataObjects that have the changes.
 <p>
 <i>Implementation note: </i> This method should not attempt to alter the underlying
 DataRowStore, since it is normally invoked *AFTER* the DataRowStore was modified as
 a result of some external interaction.
 </p>
<P>
<DD><DL>
<DT><B>Specified by:</B><DD><CODE><A HREF="../../../../org/objectstyle/cayenne/access/event/SnapshotEventListener.html#snapshotsChanged(org.objectstyle.cayenne.access.event.SnapshotEvent)">snapshotsChanged</A></CODE> in interface <CODE><A HREF="../../../../org/objectstyle/cayenne/access/event/SnapshotEventListener.html">SnapshotEventListener</A></CODE></DL>
</DD>
<DD><DL>
<DT><B>Since:</B></DT>
  <DD>1.1</DD>
</DL>
</DD>
</DL>
<HR>

<A NAME="validateUncommittedObjects()"><!-- --></A><H3>
validateUncommittedObjects</H3>
<PRE>
public void <B>validateUncommittedObjects</B>()
                                throws <A HREF="../../../../org/objectstyle/cayenne/validation/ValidationException.html">ValidationException</A></PRE>
<DL>
<DD>Performs validation of all uncommitted objects in the ObjectStore. If validation
 fails, a ValidationException is thrown, listing all encountered failures.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE><A HREF="../../../../org/objectstyle/cayenne/validation/ValidationException.html">ValidationException</A></CODE><DT><B>Since:</B></DT>
  <DD>1.1</DD>
</DL>
</DD>
</DL>
<HR>

<A NAME="resolveHollow(org.objectstyle.cayenne.DataObject)"><!-- --></A><H3>
resolveHollow</H3>
<PRE>
public void <B>resolveHollow</B>(<A HREF="../../../../org/objectstyle/cayenne/DataObject.html">DataObject</A>&nbsp;object)</PRE>
<DL>
<DD>Initializes object with data from cache or from the database, if this object is not
 fully resolved.
<P>
<DD><DL>
</DL>
</DD>
<DD><DL>
<DT><B>Since:</B></DT>
  <DD>1.1</DD>
</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>

<!-- ========== START OF NAVBAR ========== -->
<A NAME="navbar_bottom"><!-- --></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0">
<TR>
<TD COLSPAN=3 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/ObjectStore.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-files/index-1.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../org/objectstyle/cayenne/access/IncrementalFaultList.html"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../org/objectstyle/cayenne/access/QueryLogger.html"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html" TARGET="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="ObjectStore.html" TARGET="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;
<SCRIPT>
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html" TARGET=""><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
<A HREF="../../../../allclasses-noframe.html" TARGET=""><B>All Classes</B></A>
</NOSCRIPT>
</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;<A HREF="#field_summary">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;<A HREF="#field_detail">FIELD</A>&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<!-- =========== END OF NAVBAR =========== -->

<HR>
<!--@SFLOGO@--> &nbsp; <i>Copyright &#169; 2001-2004 <a href=
            "http://objectstyle.org" target="_top">ObjectStyle.org</a> All Rights Reserved.</i>
            
</BODY>
</HTML>
