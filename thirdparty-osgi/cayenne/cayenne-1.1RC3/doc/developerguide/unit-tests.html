<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">


<html>
<head>
        <title>Cayenne 1.1: Developer Guide</title>
        <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"/>
        <meta name="keywords" content="Object Relational Mapping framework for Java database applications, Java Development, Cayenne, OO-to-Relational mapping, Object-Oriented Software, OpenSource Development, WebObjects, EOF, Enterprise Objects Framework">
        <meta name="description" content="Cayenne is an object-relational mapping Java framework. It is free and OpenSource, developed under apache license.">
        <link href="../images/objectstyle.css" rel="stylesheet">
</head>

<body text="#000000" bgcolor="#ffffff" link="#000000" alink="#000000" vlink="#000000" 
      topmargin="0" leftmargin="0" marginwidth="0" marginheight="0">
<br>
<table width="100%" height="100%" border="0" cellspacing="0" cellpadding="0">
  <tbody><tr>
    <td width="12%" height="70" align="right" valign="top" background="../images/778899.gif">
       <a href="http://objectstyle.org/" target="_new"><img border="0" src="../images/os_logo.gif" width="160" height="32"></a>
    </td>
    <td width="1" bgcolor="#333333"><img src="../images/spacer.gif" width="1" height="1"></td>
    <td width="65%" align="right" background="../images/cccc99.gif">
       <a href="http://objectstyle.org/cayenne/" target="_new"><img border="0" src="../images/cayenne_logo.gif" width="300" height="92"></a>
    </td>
    <td width="1" bgcolor="#333333"><img src="../images/spacer.gif" width="1" height="1"></td>
    <td width="28%" background="../images/666633.gif"> </td>
  </tr>
  <tr>
    <td width="12%" valign="top" bgcolor="#778899" height="450" ><table width="100%" border="0" cellspacing="10" cellpadding="0">
    <tbody>
      <tr>
        <td align="right" class="normal">
                <p>
    <strong class="body-white">LOCAL DOCS</strong><br>
               <a href="../index.html" class="body-white-small">Start</a>
<br>
               <a href="../userguide/index.html" class="body-white-small">User Guide</a>
<br>
               <a href="../modelerguide/index.html" class="body-white-small">Modeler Guide</a>
<br>
               <a href="../examples/index.html" class="body-white-small">Examples</a>
<br>
               <a href="../api/cayenne/index.html" class="body-white-small">Javadoc API</a>
<br>
               <a href="../license.html" class="body-white-small">License</a>
<br>
        </p>
        <p>
    <strong class="body-white">ONLINE RESOURCES</strong><br>
               <a href="http://objectstyle.org/cayenne/" class="body-white-small" target="_new">Home</a>
<br>
               <a href="http://objectstyle.org/cayenne/download.html" class="body-white-small" target="_new">Download</a>
<br>
               <a href="http://objectstyle.org/cayenne/bugs-features.html" class="body-white-small" target="_new">Bugs and Features</a>
<br>
               <a href="http://objectstyle.org/cayenne/cayenne-commercial-support.html" class="body-white-small" target="_new">Commercial Support</a>
<br>
        </p>
            </td>
      </tr>
    </tbody>
    </table></td>
    <td width="1" bgcolor="#333333"><img src="../images/spacer.gif" width="1" height="1"></td>
    <td width="65%" valign="top" bgcolor="#cccc99" class="body-black">
    
                          <table width="100%" border="0" cellspacing="10" cellpadding="0">
      <tbody><tr>
        <td align="left" valign="top" class="body-black"><strong><font class="normal-red">3. Unit Tests</font>
            <img src="../images/redline.gif" width="100%" height="1"><br></strong><br>
                                              <p>Cayenne provides a comprehensive suite of unit tests. To execute
            unit tests do the following:</p>
                                                <p><strong>Step 1.</strong> Configure one or more datasources. To do this, create a directory 
            <code>$HOME/.cayenne/</code> and place a file called <code>connection.properties</code>
            in this directory. File contents should be similar to this example:</p>
                                                <table width="100%" border="0" cellpadding="0" cellspacing="7" bgcolor="#FFFFCC"  class="source">
  <tr>
    <td class="body-black"><pre>
example1.cayenne.adapter = org.objectstyle.cayenne.dba.mysql.MySQLAdapter
example1.jdbc.username = someuser
example1.jdbc.password = somepasswd
example1.jdbc.url = jdbc:someurl1
example1.jdbc.driver = com.xyz.MyDriverClass

example2.cayenne.adapter = org.objectstyle.cayenne.dba.oracle.OracleAdapter
example2.jdbc.username = someuser
example2.jdbc.password = somepasswd
example2.jdbc.url = jdbc:someurl2
example2.jdbc.driver = com.xyz.MyDriverClass 
</pre></td>
  </tr>
</table>   
                                                <p>Each key starts with an identifier for a datasource. In the file above, "example1" 
		and "example2" are such identifiers. They can be arbitrary strings without "." (dot) 
		symbols.
		</p>
                                                <p><strong>Step 2.</strong> Run unit tests for one of the configured datasources:</p>
                                                <table width="100%" border="0" cellpadding="0" cellspacing="7" bgcolor="#FFFFCC"  class="source">
  <tr>
    <td class="body-black"><pre># cd cayenne
# ant test -Dcayenne.test.connection=example1</pre></td>
  </tr>
</table>   
                                                <p>Substitute "example1" with a name of your data source configured in the 
		previous step. In case of total success, one of the last messages Ant prints
		on console is <code>BUILD SUCCESSFUL</code>. If build fails, failure report is 
		generated in HTML format under <code>....cayenne/build/tests/report/example1/index.html</code>
		and can be viewed using a web browser (again, substitute "example1" in this
		path with the name of data source used).</p>
                                                <p>To run only a subset of existing Cayenne test cases, Ant-style pattern matching 
		can be used. A property called 
		<code>test.filter</code> defines a set of class files to be run. For instance to run only 
		tests from the "tools" package, 
		the following startup parameters can be used:</p>
                                                <table width="100%" border="0" cellpadding="0" cellspacing="7" bgcolor="#FFFFCC"  class="source">
  <tr>
    <td class="body-black"><pre># cd cayenne
# ant test -Dcayenne.test.connection=example1 -Dtest.filter="**/tools/*Tst.class"</pre></td>
  </tr>
</table>   
                            </td>
      </tr>
    </tbody>
    </table>
        </td>
    <td width="1" bgcolor="#333333"><img src="../images/spacer.gif" width="1" height="1"></td>
    
            <td width="30%" valign="top" bgcolor="#999966"><table width="100%" border="0" cellspacing="10" cellpadding="0">
      <tbody>
       	<tr>
       		<td align="left" class="normal">
       		       		<strong class="body-white">    <a href="../developerguide/index.html" class="body-white-small">Developer Guide  - version 1.1</a>
</strong><br>
       		<p><strong class="body-white">TABLE OF CONTENTS:</strong></p>

             		<p>
       		    <a href="../developerguide/cvs.html" class="body-white-small">1. CVS Access</a>
<br>
       		
       		</p>
    	     		<p>
       		    <a href="../developerguide/compile.html" class="body-white-small">2. Compiling Cayenne</a>
<br>
       		
       		</p>
    	     		<p>
       		    <a href="../developerguide/unit-tests.html" class="body-white-small">3. Unit Tests</a>
<br>
       		
       		       		       		</p>
    	     		<p>
       		    <a href="../developerguide/eclipse.html" class="body-white-small">4. Using Eclipse IDE</a>
<br>
       		
       		</p>
    	     	 </td>
    	 </tr>
      </tbody>
    </table>
    </td>    
      </tr>  <tr>

    <td width="12%" height="1" bgcolor="#333333"><img src="../images/spacer.gif" width="1" height="1"></td>
    <td width="1" height="1" bgcolor="#333333"><img src="../images/spacer.gif" width="1" height="1"></td>
    <td width="65%" height="1" bgcolor="#333333"><img src="../images/spacer.gif" width="1" height="1"></td>
    <td width="1" height="1" bgcolor="#333333"><img src="../images/spacer.gif" width="1" height="1"></td>
    <td width="28%" height="1" bgcolor="#333333"><img border="0" src="../images/spacer.gif" width="1" height="1"></td>
  </tr>
  <tr>
    <td width="12%"></td>
    <td width="1" bgcolor="#333333"><img src="../images/spacer.gif" width="1" height="1"></td>
    <td width="65%" valign="top"><table width="100%" border="0" cellspacing="10" cellpadding="0" class="body-black">
      <tbody><tr>
        <td>Copyright &copy;2001-2004 ObjectStyle Group</td>
      </tr>
    </tbody></table></td>
    <td width="1" bgcolor="#333333"><img src="../images/spacer.gif" width="1" height="1"></td>
    <td width="28%"> </td>
  </tr>
</tbody></table>
<br>
</body>
</html>













    


