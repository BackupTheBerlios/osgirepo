<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">


<html>
<head>
        <title>Cayenne 1.1: CayenneModeler Guide</title>
        <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"/>
        <meta name="keywords" content="Object Relational Mapping framework for Java database applications, Java Development, Cayenne, OO-to-Relational mapping, Object-Oriented Software, OpenSource Development, WebObjects, EOF, Enterprise Objects Framework">
        <meta name="description" content="Cayenne is an object-relational mapping Java framework. It is free and OpenSource, developed under apache license.">
        <link href="../../images/objectstyle.css" rel="stylesheet">
</head>

<body text="#000000" bgcolor="#ffffff" link="#000000" alink="#000000" vlink="#000000" 
      topmargin="0" leftmargin="0" marginwidth="0" marginheight="0">
<br>
<table width="100%" height="100%" border="0" cellspacing="0" cellpadding="0">
  <tbody><tr>
    <td width="12%" height="70" align="right" valign="top" background="../../images/778899.gif">
       <a href="http://objectstyle.org/" target="_new"><img border="0" src="../../images/os_logo.gif" width="160" height="32"></a>
    </td>
    <td width="1" bgcolor="#333333"><img src="../../images/spacer.gif" width="1" height="1"></td>
    <td width="65%" align="right" background="../../images/cccc99.gif">
       <a href="http://objectstyle.org/cayenne/" target="_new"><img border="0" src="../../images/cayenne_logo.gif" width="300" height="92"></a>
    </td>
    <td width="1" bgcolor="#333333"><img src="../../images/spacer.gif" width="1" height="1"></td>
    <td width="28%" background="../../images/666633.gif"> </td>
  </tr>
  <tr>
    <td width="12%" valign="top" bgcolor="#778899" height="450" ><table width="100%" border="0" cellspacing="10" cellpadding="0">
    <tbody>
      <tr>
        <td align="right" class="normal">
                <p>
    <strong class="body-white">LOCAL DOCS</strong><br>
               <a href="../../index.html" class="body-white-small">Start</a>
<br>
               <a href="../../userguide/index.html" class="body-white-small">User Guide</a>
<br>
               <a href="../../modelerguide/index.html" class="body-white-small">Modeler Guide</a>
<br>
               <a href="../../examples/index.html" class="body-white-small">Examples</a>
<br>
               <a href="../../api/cayenne/index.html" class="body-white-small">Javadoc API</a>
<br>
               <a href="../../license.html" class="body-white-small">License</a>
<br>
        </p>
        <p>
    <strong class="body-white">ONLINE RESOURCES</strong><br>
               <a href="http://objectstyle.org/cayenne/" class="body-white-small" target="_new">Home</a>
<br>
               <a href="http://objectstyle.org/cayenne/download.html" class="body-white-small" target="_new">Download</a>
<br>
               <a href="http://objectstyle.org/cayenne/bugs-features.html" class="body-white-small" target="_new">Bugs and Features</a>
<br>
               <a href="http://objectstyle.org/cayenne/cayenne-commercial-support.html" class="body-white-small" target="_new">Commercial Support</a>
<br>
        </p>
            </td>
      </tr>
    </tbody>
    </table></td>
    <td width="1" bgcolor="#333333"><img src="../../images/spacer.gif" width="1" height="1"></td>
    <td width="65%" valign="top" bgcolor="#cccc99" class="body-black">
    
                          <table width="100%" border="0" cellspacing="10" cellpadding="0">
      <tbody><tr>
        <td align="left" valign="top" class="body-black"><strong><font class="normal-red">4. Common Modeling Tasks</font>
            <img src="../../images/redline.gif" width="100%" height="1"><br></strong><br>
                                                      
    <strong><br>
    4.6 Generate Primary Key Support<br>
    </strong><br>
                                    <p>One of Cayenne core features is automatic generation of the database primary
        	keys for the new objects. This requires a set of special database objects to
        	be present in the database. Those are adapter-specific and can be special lookup tables,
        	stored procedures, sequences, etc. If the database schema was generated by 
        	CayenneModeler as described in previous chapters, chances are that all needed 
        	database objects were already created.
        	Otherwise, if there was an existing schema, these objects must be generated by
        	an application programmer or a DBA using CayenneModeler, or SQL scripts created by
        	CayenneModeler.</p>
                                                <p><strong>Prerequisites.</strong> Start CayenneModeler and <a href="create-project.html">create 
 	 		a new project</a> or open an existing one. <a href="create-data-node.html">Create DataNode</a> 
 	 		with the target database connection info.
 	 		</p>
                                                <p><strong>Create Primary Key Support.</strong>
        	Select a DataMap (preferrably under an already configured DataNode),
        	and choose "Tools -&gt; Generate Database Schema" from the menu:
        	</p>
                                                <img src='../../images/modelerguide/generate-db.jpg' width='400' height='240' align='middle' alt='Generate Schema Menu'/>
                                                <p>
        	   When a login panel pops up, enter database information. If the DataMap
        	   was selected under a DataNode, then all the login information from this DataNode
        	   should already be entered.
        	   When a schema generation panel pops up, leave only "Drop Primary Key 
        	   Support" (optionally)
        	   and "Create Primary Key Support" choices checked:
        	</p>
                                                <img src='../../images/modelerguide/generate-pk.jpg' width='520' height='384' align='middle' alt='Generate Schema Dialog'/>
                                                <p>Now, if you have enough database privileges to execute listed
        	   queries, click on "Generate" button, otherwise click
        	   on "Save SQL" button to store the queries, and let
        	   the authorized DBA to run these statements.
        	</p>
                                                </td>
      </tr>
    </tbody>
    </table>
        </td>
    <td width="1" bgcolor="#333333"><img src="../../images/spacer.gif" width="1" height="1"></td>
    
            <td width="30%" valign="top" bgcolor="#999966"><table width="100%" border="0" cellspacing="10" cellpadding="0">
      <tbody>
       	<tr>
       		<td align="left" class="normal">
       		       		<strong class="body-white">    <a href="../../modelerguide/index.html" class="body-white-small">CayenneModeler Guide  - version 1.1</a>
</strong><br>
       		<p><strong class="body-white">TABLE OF CONTENTS:</strong></p>

             		<p>
       		    <a href="../../modelerguide/modeler-intro/index.html" class="body-white-small">1. Introduction</a>
<br>
       		
       		</p>
    	     		<p>
       		    <a href="../../modelerguide/object-relational-modeling/index.html" class="body-white-small">2. ORM Case Study</a>
<br>
       		
       		</p>
    	     		<p>
       		    <a href="../../modelerguide/model-structure/index.html" class="body-white-small">3. Cayenne Project Structure</a>
<br>
       		
       		</p>
    	     		<p>
       		    <a href="../../modelerguide/common-tasks/index.html" class="body-white-small">4. Common Modeling Tasks</a>
<br>
       		
       		       		       		   &nbsp;    <a href="../../modelerguide/common-tasks/create-project.html" class="body-white-small">4.1 Create New Project</a>
<br>
       		   
       		          		       		   &nbsp;    <a href="../../modelerguide/common-tasks/create-data-node.html" class="body-white-small">4.2 Create DataNode</a>
<br>
       		   
       		          		       		   &nbsp;    <a href="../../modelerguide/common-tasks/reverse-engineer.html" class="body-white-small">4.3 Reverse Engineer Database</a>
<br>
       		   
       		          		       		   &nbsp;    <a href="../../modelerguide/common-tasks/generate-java.html" class="body-white-small">4.4 Generate Java Classes</a>
<br>
       		   
       		          		       		   &nbsp;    <a href="../../modelerguide/common-tasks/generate-db.html" class="body-white-small">4.5 Generate Database Schema</a>
<br>
       		   
       		          		       		   &nbsp;    <a href="../../modelerguide/common-tasks/pksupport.html" class="body-white-small">4.6 Generate Primary Key Support</a>
<br>
       		   
       		          		       		   &nbsp;    <a href="../../modelerguide/common-tasks/datamap-defaults.html" class="body-white-small">4.7 Setting DataMap Defaults</a>
<br>
       		   
       		          		       		</p>
    	     		<p>
       		    <a href="../../modelerguide/modeling-db-layer/index.html" class="body-white-small">5. Modeling Database Layer</a>
<br>
       		
       		</p>
    	     		<p>
       		    <a href="../../modelerguide/modeling-object-layer/index.html" class="body-white-small">6. Modeling Object Layer</a>
<br>
       		
       		</p>
    	     		<p>
       		    <a href="../../modelerguide/modeling-queries/index.html" class="body-white-small">7. Modeling Queries</a>
<br>
       		
       		</p>
    	     		<p>
       		    <a href="../../modelerguide/configure-deployment/index.html" class="body-white-small">8. Configuring Deployment Settings</a>
<br>
       		
       		</p>
    	     		<p>
       		    <a href="../../modelerguide/preferences/index.html" class="body-white-small">9. Preferences Panel</a>
<br>
       		
       		</p>
    	     		<p>
       		    <a href="../../modelerguide/modeling-tips.html" class="body-white-small">10. Modeling Tips</a>
<br>
       		
       		</p>
    	     	 </td>
    	 </tr>
      </tbody>
    </table>
    </td>    
      </tr>  <tr>

    <td width="12%" height="1" bgcolor="#333333"><img src="../../images/spacer.gif" width="1" height="1"></td>
    <td width="1" height="1" bgcolor="#333333"><img src="../../images/spacer.gif" width="1" height="1"></td>
    <td width="65%" height="1" bgcolor="#333333"><img src="../../images/spacer.gif" width="1" height="1"></td>
    <td width="1" height="1" bgcolor="#333333"><img src="../../images/spacer.gif" width="1" height="1"></td>
    <td width="28%" height="1" bgcolor="#333333"><img border="0" src="../../images/spacer.gif" width="1" height="1"></td>
  </tr>
  <tr>
    <td width="12%"></td>
    <td width="1" bgcolor="#333333"><img src="../../images/spacer.gif" width="1" height="1"></td>
    <td width="65%" valign="top"><table width="100%" border="0" cellspacing="10" cellpadding="0" class="body-black">
      <tbody><tr>
        <td>Copyright &copy;2001-2004 ObjectStyle Group</td>
      </tr>
    </tbody></table></td>
    <td width="1" bgcolor="#333333"><img src="../../images/spacer.gif" width="1" height="1"></td>
    <td width="28%"> </td>
  </tr>
</tbody></table>
<br>
</body>
</html>













    


