<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">


<html>
<head>
        <title>Cayenne 1.1: User Guide - Generating Classes with Ant</title>
        <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"/>
        <meta name="keywords" content="Object Relational Mapping framework for Java database applications, Java Development, Cayenne, OO-to-Relational mapping, Object-Oriented Software, OpenSource Development, WebObjects, EOF, Enterprise Objects Framework">
        <meta name="description" content="Cayenne is an object-relational mapping Java framework. It is free and OpenSource, developed under apache license.">
        <link href="../images/objectstyle.css" rel="stylesheet">
</head>

<body text="#000000" bgcolor="#ffffff" link="#000000" alink="#000000" vlink="#000000" 
      topmargin="0" leftmargin="0" marginwidth="0" marginheight="0">
<br>
<table width="100%" height="100%" border="0" cellspacing="0" cellpadding="0">
  <tbody><tr>
    <td width="12%" height="70" align="right" valign="top" background="../images/778899.gif">
       <a href="http://objectstyle.org/" target="_new"><img border="0" src="../images/os_logo.gif" width="160" height="32"></a>
    </td>
    <td width="1" bgcolor="#333333"><img src="../images/spacer.gif" width="1" height="1"></td>
    <td width="65%" align="right" background="../images/cccc99.gif">
       <a href="http://objectstyle.org/cayenne/" target="_new"><img border="0" src="../images/cayenne_logo.gif" width="300" height="92"></a>
    </td>
    <td width="1" bgcolor="#333333"><img src="../images/spacer.gif" width="1" height="1"></td>
    <td width="28%" background="../images/666633.gif"> </td>
  </tr>
  <tr>
    <td width="12%" valign="top" bgcolor="#778899" height="450" ><table width="100%" border="0" cellspacing="10" cellpadding="0">
    <tbody>
      <tr>
        <td align="right" class="normal">
                <p>
    <strong class="body-white">LOCAL DOCS</strong><br>
               <a href="../index.html" class="body-white-small">Start</a>
<br>
               <a href="../userguide/index.html" class="body-white-small">User Guide</a>
<br>
               <a href="../modelerguide/index.html" class="body-white-small">Modeler Guide</a>
<br>
               <a href="../examples/index.html" class="body-white-small">Examples</a>
<br>
               <a href="../api/cayenne/index.html" class="body-white-small">Javadoc API</a>
<br>
               <a href="../license.html" class="body-white-small">License</a>
<br>
        </p>
        <p>
    <strong class="body-white">ONLINE RESOURCES</strong><br>
               <a href="http://objectstyle.org/cayenne/" class="body-white-small" target="_new">Home</a>
<br>
               <a href="http://objectstyle.org/cayenne/download.html" class="body-white-small" target="_new">Download</a>
<br>
               <a href="http://objectstyle.org/cayenne/bugs-features.html" class="body-white-small" target="_new">Bugs and Features</a>
<br>
               <a href="http://objectstyle.org/cayenne/cayenne-commercial-support.html" class="body-white-small" target="_new">Commercial Support</a>
<br>
        </p>
            </td>
      </tr>
    </tbody>
    </table></td>
    <td width="1" bgcolor="#333333"><img src="../images/spacer.gif" width="1" height="1"></td>
    <td width="65%" valign="top" bgcolor="#cccc99" class="body-black">
    
                          <table width="100%" border="0" cellspacing="10" cellpadding="0">
      <tbody><tr>
        <td align="left" valign="top" class="body-black"><strong><font class="normal-red">5. Generating Classes with Ant</font>
            <img src="../images/redline.gif" width="100%" height="1"><br></strong><br>
                                              <p>Java classes can be generated from an existing DataMap using CayenneModeler
            tool or a special <a href="http://jakarta.apache.org/ant/">Ant</a> task, 
            <code>Cgen</code> (short for "Cayenne Class Generator"), implemented by <a href="../api/cayenne/org/objectstyle/cayenne/tools/CayenneGenerator.html">CayenneGenerator</a>
            Java class. 
            This chapter describes how to use <code>Cgen</code> task. For details on 
            how class generation can be done using GUI see 
            <a href="../modelerguide/index.html">CayenneModeler chapter</a>.</p>
                                                <p><strong>Cgen (Cayenne Class Generator)</strong></p>
                                                <h3>Description</h3>
                                                <p><code>Cgen</code> is an Ant task that generates and maintains DataObjects
			source files based on Cayenne DataMap. If "makepairs" is set to "true" (default), this task
			will generate a pair of classes (superclass/subclass) for each ObjEntity in the
			DataMap. Superclasses should not be changed manually, since they are always 
			overwritten. Subclasses are never overwritten and may be later customized by the user.
			If "makepairs" is set to "false", a single class will be generated for each ObjEntity.
			</p>
                                                <h3>Parameters</h3>
                                                <table width="100%" border="0" cellspacing="1" cellpadding="3" class="body-black" bgcolor="#999966">
                        <tr>
                        <td  bgcolor="#FFFF99" class="body-black" colspan="" rowspan="" valign="top" align="left">
                <b>Attribute</b>
        </td>
                                <td  bgcolor="#FFFF99" class="body-black" colspan="" rowspan="" valign="top" align="left">
                <b>Description</b>
        </td>
                                <td  bgcolor="#FFFF99" class="body-black" colspan="" rowspan="" valign="top" align="left">
                <b>Required</b>
        </td>
            </tr>
                                <tr>
                        <td  bgcolor="#FFFFCC" class="body-black" colspan="" rowspan="" valign="top" align="left">
                map
        </td>
                                <td  bgcolor="#FFFFCC" class="body-black" colspan="" rowspan="" valign="top" align="left">
                DataMap XML file to use as a base for class generation.
        </td>
                                <td  bgcolor="#FFFFCC" class="body-black" colspan="" rowspan="" valign="top" align="left">
                Yes
        </td>
            </tr>
                                <tr>
                        <td  bgcolor="#FFFFCC" class="body-black" colspan="" rowspan="" valign="top" align="left">
                destDir
        </td>
                                <td  bgcolor="#FFFFCC" class="body-black" colspan="" rowspan="" valign="top" align="left">
                Destination directory for Java classes
					<i>(ignoring their package names)</i>.
        </td>
                                <td  bgcolor="#FFFFCC" class="body-black" colspan="" rowspan="" valign="top" align="left">
                Yes
        </td>
            </tr>
                                <tr>
                        <td  bgcolor="#FFFFCC" class="body-black" colspan="" rowspan="" valign="top" align="left">
                overwrite
        </td>
                                <td  bgcolor="#FFFFCC" class="body-black" colspan="" rowspan="" valign="top" align="left">
                If set to "true", will overwrite older versions of
					generated classes. Ignored unless makepairs is set to "false".
        </td>
                                <td  bgcolor="#FFFFCC" class="body-black" colspan="" rowspan="" valign="top" align="left">
                No
        </td>
            </tr>
                                <tr>
                        <td  bgcolor="#FFFFCC" class="body-black" colspan="" rowspan="" valign="top" align="left">
                makepairs
        </td>
                                <td  bgcolor="#FFFFCC" class="body-black" colspan="" rowspan="" valign="top" align="left">
                If set to "true", will generate subclass/superclass
					pairs, with all generated code included in superclass
					<i>(default is "true")</i>.
        </td>
                                <td  bgcolor="#FFFFCC" class="body-black" colspan="" rowspan="" valign="top" align="left">
                No
        </td>
            </tr>
                                <tr>
                        <td  bgcolor="#FFFFCC" class="body-black" colspan="" rowspan="" valign="top" align="left">
                template
        </td>
                                <td  bgcolor="#FFFFCC" class="body-black" colspan="" rowspan="" valign="top" align="left">
                Location of Velocity template file for Java class
					generation. If ommitted, default template is used.
        </td>
                                <td  bgcolor="#FFFFCC" class="body-black" colspan="" rowspan="" valign="top" align="left">
                No
        </td>
            </tr>
                                <tr>
                        <td  bgcolor="#FFFFCC" class="body-black" colspan="" rowspan="" valign="top" align="left">
                supertemplate
        </td>
                                <td  bgcolor="#FFFFCC" class="body-black" colspan="" rowspan="" valign="top" align="left">
                Location of Velocity template file for Java superclass 
					generation. Ignored unless "makepairs" set to "true".
					If ommitted, default template is used.
        </td>
                                <td  bgcolor="#FFFFCC" class="body-black" colspan="" rowspan="" valign="top" align="left">
                No
        </td>
            </tr>
                                <tr>
                        <td  bgcolor="#FFFFCC" class="body-black" colspan="" rowspan="" valign="top" align="left">
                superpkg
        </td>
                                <td  bgcolor="#FFFFCC" class="body-black" colspan="" rowspan="" valign="top" align="left">
                Java package name of generated superclasses.
					Ignored unless "makepairs" set to "true". If omitted,
					each superclass will be assigned the same package as subclass.
					<i>Note that having superclass in a different package
					would only make sense when "usepkgpath" is set to "true". 
					Otherwise classes from different packages will end up in the same 
					directory.</i>
        </td>
                                <td  bgcolor="#FFFFCC" class="body-black" colspan="" rowspan="" valign="top" align="left">
                No
        </td>
            </tr>
                                <tr>
                        <td  bgcolor="#FFFFCC" class="body-black" colspan="" rowspan="" valign="top" align="left">
                usepkgpath
        </td>
                                <td  bgcolor="#FFFFCC" class="body-black" colspan="" rowspan="" valign="top" align="left">
                If set to "true" (default), 
					a directory tree will be generated
					in "destDir" corresponding to the class package structure,
					if set to "false", classes will be generated in "destDir"
					ignoring their package.
        </td>
                                <td  bgcolor="#FFFFCC" class="body-black" colspan="" rowspan="" valign="top" align="left">
                No
        </td>
            </tr>
            </table>
                                                <h3>Examples:</h3>
                                                <p>Here is an example of using <code>CGen</code> to generate DataObject
			subclass/superclass pairs from DataMap located in "src/datamap.xml". All generated
			subclasses and superclasses will be saved in the same directory "src/java/dobj" regardless
			of their package names:</p>
                                                <table width="100%" border="0" cellpadding="0" cellspacing="7" bgcolor="#FFFFCC"  class="source">
  <tr>
    <td class="body-black"><pre>
&lt;taskdef name="cgen" classname="org.objectstyle.cayenne.tools.CayenneGenerator"&gt;
     &lt;classpath refid="classpath"/&gt;
&lt;/taskdef&gt;
&lt;cgen map="src/datamap.xml" destDir="src/java/dobj" usepkgpath="false"/&gt;
</pre></td>
  </tr>
</table>   
                            </td>
      </tr>
    </tbody>
    </table>
        </td>
    <td width="1" bgcolor="#333333"><img src="../images/spacer.gif" width="1" height="1"></td>
    
            <td width="30%" valign="top" bgcolor="#999966"><table width="100%" border="0" cellspacing="10" cellpadding="0">
      <tbody>
       	<tr>
       		<td align="left" class="normal">
       		       		<strong class="body-white">    <a href="../userguide/index.html" class="body-white-small">User Guide  - version 1.1</a>
</strong><br>
       		<p><strong class="body-white">TABLE OF CONTENTS:</strong></p>

             		<p>
       		    <a href="../userguide/introduction/index.html" class="body-white-small">1. Introduction</a>
<br>
       		
       		</p>
    	     		<p>
       		    <a href="../userguide/install/index.html" class="body-white-small">2. Installation</a>
<br>
       		
       		</p>
    	     		<p>
       		    <a href="../userguide/quickstart/index.html" class="body-white-small">3. Quick Start</a>
<br>
       		
       		</p>
    	     		<p>
       		    <a href="../userguide/design/index.html" class="body-white-small">4. Design</a>
<br>
       		
       		</p>
    	     		<p>
       		    <a href="../userguide/javagen.html" class="body-white-small">5. Generating Classes with Ant</a>
<br>
       		
       		       		       		</p>
    	     		<p>
       		    <a href="../userguide/datactxt/index.html" class="body-white-small">6. Using DataContext</a>
<br>
       		
       		</p>
    	     		<p>
       		    <a href="../userguide/fetch/index.html" class="body-white-small">7. Using Queries</a>
<br>
       		
       		</p>
    	     		<p>
       		    <a href="../userguide/dataobjects/index.html" class="body-white-small">8. Working with DataObjects</a>
<br>
       		
       		</p>
    	     		<p>
       		    <a href="../userguide/stored-procedures/index.html" class="body-white-small">9. Using Stored Procedures</a>
<br>
       		
       		</p>
    	     		<p>
       		    <a href="../userguide/expressions/index.html" class="body-white-small">10. Using Expressions</a>
<br>
       		
       		</p>
    	     		<p>
       		    <a href="../userguide/perform/index.html" class="body-white-small">11. Performance Tuning</a>
<br>
       		
       		</p>
    	     		<p>
       		    <a href="../userguide/deploy/index.html" class="body-white-small">12. Deployment</a>
<br>
       		
       		</p>
    	     		<p>
       		    <a href="../userguide/dataview/index.html" class="body-white-small">13. DataViews</a>
<br>
       		
       		</p>
    	     		<p>
       		    <a href="../userguide/misc.html" class="body-white-small">14. Miscellaneous Information</a>
<br>
       		
       		</p>
    	     	 </td>
    	 </tr>
      </tbody>
    </table>
    </td>    
      </tr>  <tr>

    <td width="12%" height="1" bgcolor="#333333"><img src="../images/spacer.gif" width="1" height="1"></td>
    <td width="1" height="1" bgcolor="#333333"><img src="../images/spacer.gif" width="1" height="1"></td>
    <td width="65%" height="1" bgcolor="#333333"><img src="../images/spacer.gif" width="1" height="1"></td>
    <td width="1" height="1" bgcolor="#333333"><img src="../images/spacer.gif" width="1" height="1"></td>
    <td width="28%" height="1" bgcolor="#333333"><img border="0" src="../images/spacer.gif" width="1" height="1"></td>
  </tr>
  <tr>
    <td width="12%"></td>
    <td width="1" bgcolor="#333333"><img src="../images/spacer.gif" width="1" height="1"></td>
    <td width="65%" valign="top"><table width="100%" border="0" cellspacing="10" cellpadding="0" class="body-black">
      <tbody><tr>
        <td>Copyright &copy;2001-2004 ObjectStyle Group</td>
      </tr>
    </tbody></table></td>
    <td width="1" bgcolor="#333333"><img src="../images/spacer.gif" width="1" height="1"></td>
    <td width="28%"> </td>
  </tr>
</tbody></table>
<br>
</body>
</html>













    


